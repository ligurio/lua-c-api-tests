diff --git a/makefile b/makefile
index 8674519f..dd0fb23e 100644
--- a/makefile
+++ b/makefile
@@ -96,9 +96,12 @@ CORE_O=	lapi.o lcode.o lctype.o ldebug.o ldo.o ldump.o lfunc.o lgc.o llex.o \
 AUX_O=	lauxlib.o
 LIB_O=	lbaselib.o ldblib.o liolib.o lmathlib.o loslib.o ltablib.o lstrlib.o \
	lutf8lib.o loadlib.o lcorolib.o linit.o
+ifneq ($(LF_PATH),)
+LF_O= $(shell find $(LF_PATH) -maxdepth 1 -name '*.o')
+endif

 LUA_T=	lua
-LUA_O=	lua.o
+LUA_O=	lua.o $(LF_O)


 ALL_T= $(CORE_T) $(LUA_T)
